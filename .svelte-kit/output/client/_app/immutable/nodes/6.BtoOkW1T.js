import{a as u,c as Je,f as x}from"../chunks/BIl1Y4L0.js";import{f as He,q as O,w as Xe,x as Se,k as e,l as d,u as W,g as r,i as a,j as n,A as Ce,n as Y,t as D,o as Ge,z as ae,v as xt}from"../chunks/B1K5WRAF.js";import{p as mt,i as L,s as ht,a as Be}from"../chunks/Kg0lvUSQ.js";import{T as _t,p as wt}from"../chunks/Dvb0uy6C.js";import{d as yt,s as N,a as m,e as kt}from"../chunks/DyoM1-ZD.js";import{I as h,r as ze,e as re,s as R,b as Z,i as Ne,a as St}from"../chunks/DcGRBZ6K.js";import{e as Ct}from"../chunks/DvC7P_P4.js";import{p as q,s as zt}from"../chunks/B0zVmffm.js";var Nt=x("<!> <span>Saving...</span>",1),jt=x("<!> <span>Saved to Cloud</span>",1),Pt=x('<button><div class="flex flex-col"><span class="font-black uppercase tracking-tight"> </span> <span> </span></div> <!></button>'),Tt=x('<div class="text-[10px] italic text-slate-300">No sections found</div>'),Ut=x('<button><div class="flex items-center gap-1"><!> </div> <!></button>'),Dt=x('<div class="text-[10px] italic text-slate-300 w-full">No variables found</div>'),Lt=x('<p class="text-[10px] font-bold text-indigo-500 uppercase"> </p>'),Ot=x('<button class="absolute right-2.5 top-2.5 text-slate-400 hover:text-slate-600 border-none bg-transparent cursor-pointer"><!></button>'),Vt=x('<span class="inline-block mt-1 px-1.5 py-0.5 bg-indigo-50 text-indigo-500 text-[8px] font-black uppercase tracking-widest rounded border border-indigo-100"> </span>'),Et=x('<div role="button" tabindex="0" class="group p-4 rounded-xl border border-slate-100 bg-slate-50/50 hover:bg-white hover:border-indigo-200 hover:shadow-md transition-all cursor-pointer relative text-left w-full border-none"><div class="flex justify-between items-start mb-2"><div class="flex-1"><h4 class="text-[11px] font-black text-slate-800 line-clamp-2 leading-tight group-hover:text-indigo-600 transition-colors uppercase tracking-tight"> </h4> <!></div> <div class="flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity shrink-0"><button class="p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-all border-none cursor-pointer bg-transparent" title="Edit"><!></button> <button class="p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-md transition-all border-none cursor-pointer bg-transparent" title="Delete"><!></button></div></div> <p class="text-[10px] text-slate-400 font-medium line-clamp-2 italic tracking-tighter leading-tight"> </p></div>'),Ft=x('<div class="text-center py-10 bg-slate-50/50 rounded-xl border border-dashed border-slate-200"><p class="text-[10px] font-black uppercase tracking-widest text-slate-300"> </p></div>'),At=x('<div class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-[100] p-6 animate-in fade-in duration-200"><form class="bg-white rounded-3xl shadow-2xl w-full max-w-xl overflow-hidden animate-in zoom-in-95 duration-200"><header class="px-8 py-6 border-b border-slate-100 flex justify-between items-center bg-indigo-50/30"><div><h2 class="text-lg font-black text-slate-800 tracking-tight uppercase"> </h2> <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1"> </p></div> <button type="button" class="p-2 hover:bg-slate-200/50 rounded-xl transition-all border-none bg-transparent cursor-pointer"><!></button></header> <div class="p-8 space-y-6"><div class="space-y-2"><label class="text-[10px] font-black uppercase tracking-widest text-slate-400">Title</label> <input required="" type="text" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-700 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all"/></div> <div class="space-y-2"><label class="text-[10px] font-black uppercase tracking-widest text-slate-400">Content</label> <textarea required="" rows="8" class="w-full px-4 py-4 bg-slate-50 border border-slate-200 rounded-xl font-mono text-xs text-slate-700 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all resize-none"></textarea></div></div> <footer class="p-6 bg-slate-50 border-t border-slate-100 flex justify-end gap-3"><button type="button" class="px-6 py-2.5 text-slate-400 font-bold hover:text-slate-600 transition-colors border-none bg-transparent cursor-pointer uppercase text-xs">Cancel</button> <button type="submit" class="px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-indigo-100 transition-all border-none cursor-pointer"> </button></footer></form></div>'),It=x("<button> </button>"),Mt=x('<textarea rows="4" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-xs text-slate-700 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all" placeholder="Option 1\\nOption 2"></textarea>'),qt=x('<div class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-[110] p-6 animate-in fade-in duration-200"><div class="bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200"><header class="px-8 py-6 border-b border-slate-100 flex justify-between items-center bg-indigo-50/30"><div><h2 class="text-lg font-black text-slate-800 tracking-tight uppercase">Variable Settings</h2> <p class="text-[10px] font-bold text-indigo-500 uppercase tracking-widest mt-1"> </p></div> <button class="p-2 hover:bg-slate-200/50 rounded-xl transition-all border-none bg-transparent cursor-pointer"><!></button></header> <div class="p-8 space-y-6"><div class="grid grid-cols-3 gap-2"></div> <!></div> <footer class="p-6 bg-slate-50 border-t border-slate-100 flex justify-end"><button class="px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-indigo-100 transition-all border-none cursor-pointer">Done</button></footer></div></div>'),Jt=x(`<div class="flex-1 flex flex-col bg-slate-50 overflow-hidden h-full"><header class="h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shrink-0 z-10 shadow-sm"><div class="flex items-center gap-4 flex-1"><button class="p-2 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-slate-600 transition-all border-none bg-transparent cursor-pointer"><!></button> <input type="text" class="bg-transparent border-none text-lg font-black text-slate-800 focus:ring-0 w-full max-w-md placeholder:text-slate-200 outline-none" placeholder="Untitled Structure"/></div> <div class="flex items-center gap-3"><div class="flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-300 mr-4"><!></div> <button class="p-2.5 bg-slate-50 hover:bg-indigo-50 text-slate-400 hover:text-indigo-600 rounded-xl transition-all border border-slate-200 hover:border-indigo-100 shadow-sm cursor-pointer" title="Syntax Cheat Sheet"><!></button> <button class="px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-indigo-100 transition-all border-none cursor-pointer">Save Now</button></div></header> <div class="flex-1 flex overflow-hidden"><div class="flex-1 flex flex-col bg-white border-r border-slate-200 shadow-inner overflow-hidden"><div class="h-full relative font-mono"><textarea class="absolute inset-0 w-full h-full p-8 text-sm text-slate-700 leading-relaxed resize-none focus:outline-none custom-scrollbar selection:bg-indigo-100 selection:text-indigo-700 border-none" placeholder="# Document Title\\n\\nUse {variable_name} for variables.\\nUse [[Section Name|Category]] for document sections/structural elements.\\nUse {#foreach list}...{/foreach} for loops.\\n\\nNormal # Markdown Headers are supported." spellcheck="false"></textarea></div></div> <div><div class="w-80 border-r border-slate-200 p-6 overflow-y-auto custom-scrollbar space-y-8 flex flex-col"><div><div class="flex items-center justify-between mb-4"><div class="flex items-center gap-2"><!> <h3 class="text-xs font-black uppercase tracking-widest text-slate-400">Sections</h3></div> <button>Library</button></div> <div class="space-y-2"><!></div></div> <div><div class="flex items-center gap-2 mb-4"><!> <h3 class="text-xs font-black uppercase tracking-widest text-slate-400">Variables</h3></div> <div class="flex flex-wrap gap-2"><!></div></div> <div class="mt-auto pt-8 border-t border-slate-200"><p class="text-[10px] text-slate-300 font-medium uppercase tracking-[0.1em]">DocAssemble Structure Editor v1.2. Manage provisions by
                        selecting a section.</p></div></div> <div class="w-80 bg-white p-6 overflow-y-auto custom-scrollbar flex flex-col border-r border-slate-200"><div class="flex items-center justify-between mb-2"><div><h3 class="text-xs font-black uppercase tracking-widest text-slate-400 mb-1"> </h3> <!></div> <button class="p-2 bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white rounded-lg transition-all border-none cursor-pointer" title="New Provision"><!></button></div> <div class="mb-4 relative"><input type="text" placeholder="Search clauses..." class="w-full pl-8 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-xs focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all"/> <!> <!></div> <div class="space-y-3"></div></div></div></div></div> <!> <!>`,1);function Xt(ie,s){He(s,!0);let j=mt(s,"variableConfigs",19,()=>({})),J=O(Xe(s.initialStructure?.title||"New Structure")),V=O(Xe(s.initialStructure?.content||"")),K=O(!1),B=O(!1),b=O(null),E=O(!1),f=O(null),F=O(""),k=O(null),G=ae(()=>Ct(e(V)));Se(()=>{s.onContentChange?.(e(V))}),Se(()=>{s.onTitleChange?.(e(J))});let Q;Se(()=>(clearTimeout(Q),Q=setTimeout(()=>{(e(V)!==(s.initialStructure?.content||"")||e(J)!==(s.initialStructure?.title||""))&&$()},2e3),()=>clearTimeout(Q)));async function $(){d(K,!0);try{if(s.activeDocumentId){const i={rawTemplate:e(V),structureId:s.initialStructure?.id,structureTitle:e(J),variables:s.variables||{},slotValues:s.slotValues||{},tierStyles:s.tierStyles||["decimal","lower-alpha","lower-roman"],continuousNumbering:s.continuousNumbering!==void 0?s.continuousNumbering:!0,variableConfigs:j()},o=JSON.stringify(i);await q.collection("documents").update(s.activeDocumentId,{description:o,state:o});return}const t={title:e(J),content:e(V),category:"Structure",tags:[]};if(s.initialStructure?.id){const i={...t,state:JSON.stringify({variableConfigs:j()})},o=await q.collection("templates").update(s.initialStructure.id,i);s.onSave&&s.onSave(o)}else{const i={...t,state:JSON.stringify({variableConfigs:j()})},o=await q.collection("templates").create(i);s.onSave&&s.onSave(o)}}catch(t){console.error("Save failed:",t)}finally{d(K,!1)}}async function oe(t){t.preventDefault();const i=e(f).tag?.trim(),o=e(b)?.category||"Uncategorized",g={title:e(f).title,content:e(f).content,category:o,tags:i?[i]:[]};try{if(e(f).id){const l=await q.collection("templates").update(e(f).id,g);s.onUpdateSnippets(s.snippets.map(c=>c.id===l.id?{...l,tag:l.tags?.[0]||""}:c))}else{const l=await q.collection("templates").create(g);s.onUpdateSnippets([...s.snippets,{...l,tag:l.tags?.[0]||""}])}d(E,!1)}catch(l){console.error("Failed to save provision",l),alert("Failed to save provision. Please check your connection.")}}async function p(t){if(confirm("Are you sure you want to delete this provision?"))try{await q.collection("templates").delete(t),s.onUpdateSnippets(s.snippets.filter(i=>i.id!==t))}catch(i){console.error("Failed to delete provision",i)}}let T=ae(()=>()=>{let t=s.snippets;if(e(b)){const i=e(b).category||"Uncategorized";t=t.filter(o=>(o.category||"Uncategorized")===i)}if(e(F)){const i=e(F).toLowerCase();t=t.filter(o=>o.title&&o.title.toLowerCase().includes(i)||o.content&&o.content.toLowerCase().includes(i)||o.tag&&o.tag.toLowerCase().includes(i))}return t});function M(t){d(b,e(b)?.title===t.title?null:t,!0)}var je=Jt(),ne=W(je),se=r(ne),le=r(se),ee=r(le),Re=r(ee);h(Re,{name:"ArrowLeft",size:20}),a(ee);var Pe=n(ee,2);ze(Pe),a(le);var Te=n(le,2),de=r(Te),Ke=r(de);{var Qe=t=>{var i=Nt(),o=W(i);h(o,{name:"Loader2",size:12,class:"animate-spin text-indigo-500"}),Y(2),u(t,i)},We=t=>{var i=jt(),o=W(i);h(o,{name:"Check",size:12,class:"text-emerald-500"}),Y(2),u(t,i)};L(Ke,t=>{e(K)?t(Qe):t(We,!1)})}a(de);var te=n(de,2),Ye=r(te);h(Ye,{name:"HelpCircle",size:20}),a(te);var Ze=n(te,2);a(Te),a(se);var Ue=n(se,2),ce=r(Ue),De=r(ce),Le=r(De);Ce(Le),a(De),a(ce);var ve=n(ce,2),ue=r(ve),be=r(ue),pe=r(be),ge=r(pe),$e=r(ge);h($e,{name:"Layers",size:16,class:"text-indigo-500"}),Y(2),a(ge);var Oe=n(ge,2);a(pe);var Ve=n(pe,2),et=r(Ve);{var tt=t=>{var i=Je(),o=W(i);re(o,17,()=>e(G).sections,Ne,(g,l)=>{var c=Pt(),S=r(c),_=r(S),A=r(_,!0);a(_);var w=n(_,2),C=r(w,!0);a(w),a(S);var U=n(S,2);{let P=ae(()=>e(b)?.title===e(l).title?"translate-x-1":"opacity-0 group-hover:opacity-100");h(U,{name:"ChevronRight",size:14,get class(){return`transition-transform ${e(P)??""}`}})}a(c),D(()=>{R(c,1,`w-full text-left text-xs p-3 rounded-xl border transition-all flex justify-between items-center group cursor-pointer
                                        ${e(b)?.title===e(l).title?"bg-indigo-600 border-indigo-700 text-white shadow-md":"bg-white border-slate-200 text-slate-600 hover:border-indigo-300 hover:bg-indigo-50/30"}`),N(A,e(l).title),R(w,1,`text-[9px] uppercase tracking-widest font-black mt-1 ${e(b)?.title===e(l).title?"text-indigo-200":"text-slate-300"}`),N(C,e(l).category||"No Category")}),m("click",c,()=>M(e(l))),u(g,c)}),u(t,i)},at=t=>{var i=Tt();u(t,i)};L(et,t=>{e(G).sections.length>0?t(tt):t(at,!1)})}a(Ve),a(be);var Ee=n(be,2),fe=r(Ee),rt=r(fe);h(rt,{name:"Brackets",size:16,class:"text-emerald-500"}),Y(2),a(fe);var Fe=n(fe,2),it=r(Fe);{var ot=t=>{var i=Je(),o=W(i);re(o,17,()=>e(G).variables,Ne,(g,l)=>{const c=ae(()=>j()[e(l)]||{type:"text"});var S=Ut(),_=r(S),A=r(_);{var w=z=>{h(z,{name:"Calendar",size:10})},C=z=>{h(z,{name:"List",size:10})};L(A,z=>{e(c).type==="date"?z(w):e(c).type==="select"&&z(C,1)})}var U=n(A);a(_);var P=n(_,2);h(P,{name:"Settings",size:10,class:"opacity-0 group-hover:opacity-100 transition-opacity"}),a(S),D(()=>{R(S,1,`text-[10px] font-black px-2 py-1 bg-white border rounded-md shadow-sm transition-all flex items-center gap-1.5 group cursor-pointer
                                        ${e(c).type==="text"?"border-slate-200 text-emerald-600 hover:border-emerald-300":e(c).type==="date"?"border-indigo-200 text-indigo-600 hover:border-indigo-400":"border-amber-200 text-amber-600 hover:border-amber-400"}`),N(U,` ${e(l)??""}`)}),m("click",S,()=>d(k,e(l),!0)),u(g,S)}),u(t,i)},nt=t=>{var i=Dt();u(t,i)};L(it,t=>{e(G).variables.length>0?t(ot):t(nt,!1)})}a(Fe),a(Ee),Y(2),a(ue);var Ae=n(ue,2),xe=r(Ae),me=r(xe),he=r(me),st=r(he,!0);a(he);var lt=n(he,2);{var dt=t=>{var i=Lt(),o=r(i,!0);a(i),D(()=>N(o,e(b).category)),u(t,i)};L(lt,t=>{e(b)&&t(dt)})}a(me);var _e=n(me,2),ct=r(_e);h(ct,{name:"Plus",size:16}),a(_e),a(xe);var we=n(xe,2),ye=r(we);ze(ye);var Ie=n(ye,2);h(Ie,{name:"Search",size:12,class:"absolute left-2.5 top-2.5 text-slate-400"});var vt=n(Ie,2);{var ut=t=>{var i=Ot(),o=r(i);h(o,{name:"X",size:12}),a(i),m("click",i,()=>d(F,"")),u(t,i)};L(vt,t=>{e(F)&&t(ut)})}a(we);var Me=n(we,2);re(Me,21,()=>e(T)(),t=>t.id,(t,i)=>{var o=Et(),g=r(o),l=r(g),c=r(l),S=r(c,!0);a(c);var _=n(c,2);{var A=v=>{var y=Vt(),X=r(y,!0);a(y),D(()=>N(X,e(i).tag)),u(v,y)};L(_,v=>{e(i).tag&&v(A)})}a(l);var w=n(l,2),C=r(w),U=r(C);h(U,{name:"Edit3",size:14}),a(C);var P=n(C,2),z=r(P);h(z,{name:"Trash2",size:14}),a(P),a(w),a(g);var H=n(g,2),I=r(H);a(H),a(o),D(v=>{N(S,e(i).title),N(I,`${v??""}...`)},[()=>e(i).content.substring(0,100)]),m("click",o,()=>{d(f,e(i),!0),d(E,!0)}),m("keydown",o,v=>v.key==="Enter"&&void(d(f,e(i),!0),d(E,!0))),m("click",C,v=>{v.stopPropagation(),d(f,e(i),!0),d(E,!0)}),m("click",P,v=>{v.stopPropagation(),p(e(i).id)}),u(t,o)},t=>{var i=Ft(),o=r(i),g=r(o,!0);a(o),a(i),D(()=>N(g,e(F)?"No matches":"No Provisions")),u(t,i)}),a(Me),a(Ae),a(ve),a(Ue),a(ne);var qe=n(ne,2);{var bt=t=>{var i=At(),o=r(i),g=r(o),l=r(g),c=r(l),S=r(c,!0);a(c);var _=n(c,2),A=r(_);a(_),a(l);var w=n(l,2),C=r(w);h(C,{name:"X"}),a(w),a(g);var U=n(g,2),P=r(U),z=n(r(P),2);ze(z),a(P);var H=n(P,2),I=n(r(H),2);Ce(I),a(H),a(U);var v=n(U,2),y=r(v),X=n(y,2),ft=r(X,!0);a(X),a(v),a(o),a(i),D(()=>{N(S,e(f)?.id?"Edit Provision":"New Provision"),N(A,`Category: ${(e(b)?.category||"General")??""}`),N(ft,e(f)?.id?"Update":"Create")}),kt("submit",o,oe),m("click",w,()=>d(E,!1)),Z(z,()=>e(f).title,ke=>e(f).title=ke),Z(I,()=>e(f).content,ke=>e(f).content=ke),m("click",y,()=>d(E,!1)),u(t,i)};L(qe,t=>{e(E)&&t(bt)})}var pt=n(qe,2);{var gt=t=>{var i=qt(),o=r(i),g=r(o),l=r(g),c=n(r(l),2),S=r(c,!0);a(c),a(l);var _=n(l,2),A=r(_);h(A,{name:"X"}),a(_),a(g);var w=n(g,2),C=r(w);re(C,20,()=>["text","date","select"],Ne,(I,v)=>{var y=It(),X=r(y,!0);a(y),D(()=>{R(y,1,`py-3 rounded-xl border-2 text-[10px] font-black uppercase tracking-widest transition-all cursor-pointer
                                ${(j()[e(k)]?.type||"text")===v?"bg-indigo-600 border-indigo-700 text-white shadow-md":"bg-white border-slate-100 text-slate-400 hover:border-indigo-100 hover:text-indigo-400"}`),N(X,v)}),m("click",y,()=>s.onUpdateVariableConfigs({...j(),[e(k)]:{...j()[e(k)],type:v}})),u(I,y)}),a(C);var U=n(C,2);{var P=I=>{var v=Mt();Ce(v),D(y=>St(v,y),[()=>j()[e(k)]?.options?.join(`
`)||""]),m("input",v,y=>s.onUpdateVariableConfigs({...j(),[e(k)]:{...j()[e(k)],options:y.target.value.split(`
`).filter(X=>X.trim())}})),u(I,v)};L(U,I=>{j()[e(k)]?.type==="select"&&I(P)})}a(w);var z=n(w,2),H=r(z);a(z),a(o),a(i),D(()=>N(S,"{"+e(k)+"}")),m("click",_,()=>d(k,null)),m("click",H,()=>d(k,null)),u(t,i)};L(pt,t=>{e(k)&&t(gt)})}D(()=>{R(ve,1,`flex bg-slate-50 overflow-hidden shrink-0 transition-all duration-300 ${e(b)?"w-[640px]":"w-80"}`),R(Oe,1,`text-[10px] font-black uppercase px-2 py-1 rounded-md transition-all border-none cursor-pointer ${e(b)?"bg-slate-100 text-slate-400 hover:bg-slate-200 hover:text-slate-600":"bg-indigo-600 text-white"}`),N(st,e(b)?"Category Provisions":"All Provisions")}),m("click",ee,function(...t){s.onBack?.apply(this,t)}),Z(Pe,()=>e(J),t=>d(J,t)),m("click",te,()=>d(B,!0)),m("click",Ze,$),Z(Le,()=>e(V),t=>d(V,t)),m("click",Oe,()=>d(b,null)),m("click",_e,()=>{d(f,{title:"",content:""},!0),d(E,!0)}),Z(ye,()=>e(F),t=>d(F,t)),u(ie,je),Ge()}yt(["click","keydown","input"]);var Bt=x('<div class="flex-1 flex items-center justify-center"><p class="text-slate-400 font-bold animate-pulse">Loading editor...</p></div>'),Ht=x('<div class="flex-1 flex items-center justify-center"><p class="text-red-500 font-bold">Structure not found.</p></div>'),Gt=x('<div class="h-screen flex flex-col bg-slate-50 overflow-hidden"><!> <main class="flex-1 overflow-hidden flex flex-col"><!></main></div>');function ta(ie,s){He(s,!0);const j=()=>Be(wt,"$page",V),J=()=>Be(zt,"$structures",V),[V,K]=ht();let B=O(null),b=O(!0);xt(async()=>{const p=j().params.id;if(p==="new")d(B,{title:"New Template",content:"",variables:[],provisions:[],isNew:!0},!0),d(b,!1);else{const T=J().find(M=>M.id===p);if(T)d(B,{...T},!0),d(b,!1);else try{const M=await q.collection("structures").getOne(p);d(B,M,!0)}catch(M){console.error("Failed to fetch structure",M)}finally{d(b,!1)}}});async function E(p){try{if(p.isNew){const{isNew:T,...M}=p;await q.collection("structures").create(M)}else await q.collection("structures").update(p.id,p);alert("Structure saved successfully!")}catch(T){console.error("Failed to save structure",T),alert("Failed to save structure.")}}var f=Gt(),F=r(f);_t(F,{});var k=n(F,2),G=r(k);{var Q=p=>{var T=Bt();u(p,T)},$=p=>{Xt(p,{get initialStructure(){return e(B)},onSave:E})},oe=p=>{var T=Ht();u(p,T)};L(G,p=>{e(b)?p(Q):e(B)?p($,1):p(oe,!1)})}a(k),a(f),u(ie,f),Ge(),K()}export{ta as component};
