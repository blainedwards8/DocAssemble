import{c as Me,a as p,f as _}from"../chunks/BpHirtZf.js";import{i as ze}from"../chunks/BivNrnZK.js";import{f as ue,q as U,w as Ne,x as je,l as g,u as Oe,o as pe,g as t,i as e,j as r,n as T,k as a,t as ee,y as Fe}from"../chunks/DhQxBYmS.js";import{d as Ee,s as B,a as m,e as Le}from"../chunks/BLSTmA5_.js";import{i as J,a as le,s as Pe}from"../chunks/BQpfd7Kh.js";import{I as h,e as ne,r as de,b as ce}from"../chunks/C6WBKgN3.js";import{p as be,a as te,m as Te}from"../chunks/D02YVmrd.js";import{T as Be}from"../chunks/N63xrfm6.js";import{g as ve}from"../chunks/0aLkdjJN.js";var qe=_('<div class="flex bg-white rounded-xl p-8 items-center justify-center gap-2 text-sm text-slate-400 font-medium border border-slate-100 shadow-sm animate-pulse"><!> Loading Documents...</div>'),Ie=_('<div class="text-center py-20 bg-white rounded-xl border border-dashed border-slate-200"><div class="w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300"><!></div> <h3 class="text-sm font-black uppercase tracking-widest text-slate-400">No Documents Yet</h3> <button class="mt-4 text-indigo-600 hover:text-indigo-700 text-xs font-bold underline bg-transparent border-none cursor-pointer">Create your first document</button></div>'),Se=_('<div role="button" tabindex="0" class="group relative bg-white border border-slate-200 rounded-xl p-5 hover:border-indigo-300 hover:shadow-md transition-all cursor-pointer flex flex-col justify-between h-48 text-left"><div class="flex items-start justify-between w-full"><div class="p-3 bg-indigo-50 text-indigo-600 rounded-lg"><!></div> <div class="opacity-0 group-hover:opacity-100 transition-all flex gap-1"><button title="Copy Text" class="p-1.5 text-slate-400 hover:text-indigo-600 bg-slate-50 hover:bg-white rounded-lg border border-transparent hover:border-slate-100 shadow-sm transition-all cursor-pointer"><!></button> <button title="Export PDF" class="p-1.5 text-slate-400 hover:text-red-500 bg-slate-50 hover:bg-white rounded-lg border border-transparent hover:border-slate-100 shadow-sm transition-all cursor-pointer"><!></button> <button title="Export DOCX" class="p-1.5 text-slate-400 hover:text-blue-500 bg-slate-50 hover:bg-white rounded-lg border border-transparent hover:border-slate-100 shadow-sm transition-all cursor-pointer"><!></button></div></div> <div><h3 class="font-bold text-slate-800 text-sm mb-1 line-clamp-2 leading-relaxed"> </h3> <p class="text-[10px] font-bold text-slate-400 uppercase tracking-wide"> </p></div></div>'),Ue=_('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>'),Ve=_('<div class="flex-1 flex flex-col bg-slate-50 overflow-hidden"><div class="bg-white border-b border-slate-200 px-8 py-4 sticky top-0 z-10 flex justify-between items-center"><div class="flex items-center gap-6"><button class="p-2 text-slate-400 hover:text-indigo-600 hover:bg-slate-50 rounded-lg transition-all border-none bg-transparent cursor-pointer" title="Back to Matters"><!></button> <div class="h-8 w-px bg-slate-100"></div> <div><h1 class="text-xl font-black text-slate-800 tracking-tight leading-none mb-1"> </h1> <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest"> </p></div></div> <button class="px-5 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-indigo-100 transition-all flex items-center gap-2 border-none cursor-pointer"><!> New Document</button></div> <div class="flex-1 overflow-y-auto p-8 custom-scrollbar"><!></div></div>'),Xe=_('<div class="mb-8 bg-white p-6 rounded-2xl border border-indigo-100 shadow-lg animate-in slide-in-from-top-4"><form class="flex gap-4 items-end"><div class="flex-1 space-y-2"><label class="text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1">Matter Name</label> <input type="text" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all placeholder:text-slate-300" placeholder="e.g. Smith Divorce" required=""/></div> <div class="flex-1 space-y-2"><label class="text-[10px] font-black uppercase tracking-widest text-slate-400 pl-1">Case Number / Client</label> <input type="text" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all placeholder:text-slate-300" placeholder="e.g. 2023-CV-12345"/></div> <div class="flex gap-2"><button type="button" class="px-5 py-3 text-slate-400 hover:text-slate-600 font-bold bg-white border border-slate-200 hover:bg-slate-50 rounded-xl text-xs uppercase tracking-wide transition-all border-none cursor-pointer">Cancel</button> <button type="submit" class="px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-md hover:shadow-lg transition-all border-none cursor-pointer">Create Matter</button></div></form></div>'),Ae=_('<div class="text-center py-24"><div class="w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-300"><!></div> <h3 class="text-lg font-black text-slate-400 uppercase tracking-widest mb-2">No Matters Found</h3> <p class="text-slate-400 text-sm">Create your first matter to get started.</p></div>'),Ge=_('<button class="bg-white border border-slate-200 hover:border-indigo-400 hover:shadow-xl hover:-translate-y-1 p-6 rounded-2xl cursor-pointer transition-all group h-48 flex flex-col justify-between relative overflow-hidden text-left bg-transparent"><div class="absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-slate-50 to-indigo-50/50 rounded-bl-full -mr-8 -mt-8 transition-transform group-hover:scale-150 duration-700"></div> <div class="relative z-10"><div class="flex justify-between items-start mb-4"><span class="w-10 h-10 rounded-lg bg-slate-50 text-slate-400 group-hover:bg-indigo-600 group-hover:text-white flex items-center justify-center transition-colors shadow-sm"><!></span></div> <h3 class="font-bold text-lg text-slate-800 mb-1 leading-snug group-hover:text-indigo-700 transition-colors uppercase"> </h3> <p class="text-xs font-bold text-slate-400 uppercase tracking-wider"> </p></div> <div class="relative z-10 pt-4 mt-auto border-t border-slate-50 flex justify-between items-center"><span class="text-[10px] font-bold text-slate-300 group-hover:text-indigo-400 transition-colors">View Documents â†’</span></div></button>'),Ye=_('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>'),He=_('<div class="flex-1 flex flex-col bg-slate-50 overflow-hidden"><div class="bg-white border-b border-slate-200 px-10 py-6 sticky top-0 z-10 flex justify-between items-center"><div><h2 class="text-xs font-black text-slate-400 uppercase tracking-[0.2em]">General Matters</h2></div> <button class="px-6 py-3 bg-slate-900 hover:bg-slate-800 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg transition-all flex items-center gap-2 border-none cursor-pointer"><!> New Matter</button></div> <div class="flex-1 overflow-y-auto p-10 custom-scrollbar"><!> <!></div></div>');function Je(K,b){ue(b,!0);const D=()=>le(te,"$activeMatter",X),V=()=>le(Te,"$matters",X),[X,q]=Pe();let N=U(Ne([])),E=U(!1),L=U(!1),C=U(""),n=U("");je(()=>{D()?xe(D().id):g(N,[],!0)});async function xe(v){g(E,!0);try{const x=await be.collection("documents").getList(1,50,{filter:`matter = "${v}"`,sort:"-created"});g(N,x.items,!0)}catch(x){console.error("Error fetching documents:",x)}finally{g(E,!1)}}function fe(v){v.preventDefault(),b.onCreateMatter({title:a(C),client:a(n),case_number:a(n)}),g(L,!1),g(C,""),g(n,"")}function re(v){te.set(v)}var ae=Me(),ge=Oe(ae);{var me=v=>{var x=Ve(),j=t(x),O=t(j),P=t(O),A=t(P);h(A,{name:"ArrowLeft",size:20}),e(P);var I=r(P,4),S=t(I),Q=t(S,!0);e(S);var G=r(S,2),R=t(G,!0);e(G),e(I),e(O);var l=r(O,2),d=t(l);h(d,{name:"Plus",size:14}),T(),e(l),e(j);var c=r(j,2),u=t(c);{var w=o=>{var i=qe(),s=t(i);h(s,{name:"Loader2",class:"animate-spin"}),T(),e(i),p(o,i)},M=o=>{var i=Ie(),s=t(i),f=t(s);h(f,{name:"FileText",size:32}),e(s);var y=r(s,4);e(i),m("click",y,function(...F){b.onNewDocument?.apply(this,F)}),p(o,i)},z=o=>{var i=Ue();ne(i,21,()=>a(N),s=>s.id,(s,f)=>{var y=Se(),F=t(y),W=t(F),_e=t(W);h(_e,{name:"FileText",size:20}),e(W);var oe=r(W,2),Y=t(oe),we=t(Y);h(we,{name:"Copy",size:14}),e(Y);var H=r(Y,2),ye=t(H);h(ye,{name:"File",size:14}),e(H);var Z=r(H,2),ke=t(Z);h(ke,{name:"FileText",size:14}),e(Z),e(oe),e(F);var se=r(F,2),$=t(se),De=t($,!0);e($);var ie=r($,2),Ce=t(ie);e(ie),e(se),e(y),ee(k=>{B(De,a(f).title||"Untitled Document"),B(Ce,`Last Edited ${k??""}`)},[()=>new Date(a(f).updated).toLocaleDateString()]),m("click",y,()=>b.onOpenDocument(a(f),"edit")),m("keydown",y,k=>k.key==="Enter"&&b.onOpenDocument(a(f),"edit")),m("click",Y,k=>{k.stopPropagation(),b.onOpenDocument(a(f),"copy")}),m("click",H,k=>{k.stopPropagation(),b.onOpenDocument(a(f),"pdf")}),m("click",Z,k=>{k.stopPropagation(),b.onOpenDocument(a(f),"docx")}),p(s,y)}),e(i),p(o,i)};J(u,o=>{a(E)?o(w):a(N).length===0?o(M,1):o(z,!1)})}e(c),e(x),ee(()=>{B(Q,D()?.title||"Unknown Matter"),B(R,D()?.client||D()?.case_number||"No Client")}),m("click",P,()=>re(null)),m("click",l,function(...o){b.onNewDocument?.apply(this,o)}),p(v,x)},he=v=>{var x=He(),j=t(x),O=r(t(j),2),P=t(O);h(P,{name:"Plus",size:16}),T(),e(O),e(j);var A=r(j,2),I=t(A);{var S=l=>{var d=Xe(),c=t(d),u=t(c),w=r(t(u),2);de(w),Fe(w,!0),e(u);var M=r(u,2),z=r(t(M),2);de(z),e(M);var o=r(M,2),i=t(o);T(2),e(o),e(c),e(d),Le("submit",c,fe),ce(w,()=>a(C),s=>g(C,s)),ce(z,()=>a(n),s=>g(n,s)),m("click",i,()=>g(L,!1)),p(l,d)};J(I,l=>{a(L)&&l(S)})}var Q=r(I,2);{var G=l=>{var d=Ae(),c=t(d),u=t(c);h(u,{name:"Briefcase",size:40}),e(c),T(4),e(d),p(l,d)},R=l=>{var d=Ye();ne(d,5,V,c=>c.id,(c,u)=>{var w=Ge(),M=r(t(w),2),z=t(M),o=t(z),i=t(o);h(i,{name:"Briefcase",size:18}),e(o),e(z);var s=r(z,2),f=t(s,!0);e(s);var y=r(s,2),F=t(y,!0);e(y),e(M),T(2),e(w),ee(()=>{B(f,a(u).title),B(F,a(u).client||a(u).case_number||"No Client")}),m("click",w,()=>re(a(u))),p(c,w)}),e(d),p(l,d)};J(Q,l=>{V().length===0?l(G):l(R,!1)})}e(A),e(x),m("click",O,()=>g(L,!0)),p(v,x)};J(ge,v=>{D()?v(me):v(he,!1)})}p(K,ae),pe(),q()}Ee(["click","keydown"]);var Ke=_('<div class="h-screen flex flex-col bg-slate-50 overflow-hidden"><!> <main class="flex-1 overflow-hidden flex flex-col"><!></main></div>');function ot(K,b){ue(b,!1);function D(C,n){n==="edit"?ve(`/edit/${C.id}`):n==="pdf"?alert("Exporting PDF..."):n==="docx"&&alert("Exporting DOCX...")}function V(){ve("/templates")}async function X(C){try{const n=await be.collection("matters").create(C);te.set(n)}catch(n){console.error("Failed to create matter",n)}}ze();var q=Ke(),N=t(q);Be(N,{});var E=r(N,2),L=t(E);Je(L,{onOpenDocument:D,onNewDocument:V,onCreateMatter:X}),e(E),e(q),p(K,q),pe()}export{ot as component};
